
package marquise.daos;

import java.sql.Connection;
import java.sql.Statement;
import java.util.List;

import org.junit.Test;

import marquise.daos.UtilisateurDao;
import marquise.daos.impl.DataSourceProvider;
import marquise.daos.impl.UtilisateurDaoImpl;
import marquise.daos.mock.impl.UtilisateurDaoMockImpl;
import marquise.projos.Utilisateur;


public class UtilisateurDaoTestCase {
	
	private UtilisateurDao utilisateurDao = new UtilisateurDaoImpl();
	
	@Test 
	public void shouldlisteUtilisateurs() throws Exception {
		//WHEN
		List<Utilisateur> utitlisateurs = utilisateurDao.listeUtilisateurs();
		//THEN
		public void initDb() throws Exception{
			try(Connection connection = DataSourceProvider.getDataSource().getConnection();
					Statement stmt = connection.createStatement()){
						stmt.executeUpdate("delete from informations");
						stmt.executeUpdate("delete from utilisateurs");
						stmt.executeUpdate("INSERT INTO `marquiseBase`.`utilisateurs` (`idUtilisateurs`, `nom`, `prenom`) VALUES ('1', 'auvray', 'louis-come');"
	);
						
					}
		}
		
		
	}
	
	
	public void initDb() throws Exception{
		try(Connection connection = DataSourceProvider.getDataSource().getConnection();
				Statement stmt = connection.createStatement()){
					stmt.executeUpdate("delete from informations");
					stmt.executeUpdate("delete from utilisateurs");
					stmt.executeUpdate("INSERT INTO `marquiseBase`.`utilisateurs` (`idUtilisateurs`, `nom`, `prenom`) VALUES ('1', 'auvray', 'louis-come');"
);
					
				}
	}
	

}
